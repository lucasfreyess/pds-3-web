<%= form_with(model: @locker, url: locker_path(@locker), local: true) do |form| %>
  <div class="mb-3">
    <%= form.label :name, "Nombre del Casillero" %>
    <%= form.text_field :name, class: "form-control" %>
  </div>

  <div class="mb-3">
    <%= form.label :owner_email, "Email del Dueño" %>
    <%= form.email_field :owner_email, class: "form-control" %>
  </div>

  <%# Opciones de gestos disponibles del modelo del usuario actual %>
  <% gesture_options = current_user.model.gestures.pluck(:name) %>

  <%# Para cada índice de la lista, muestra un campo de selección %>
  <% @locker.password.each_with_index do |gesture, index| %>
    <div class="mb-3">
      <%= form.label "gesture_#{index + 1}", "Gesto #{index + 1} de la Clave" %>
      <%= form.select "password_#{index}", options_for_select(gesture_options, gesture), class: "form-control" %>
    </div>
  <% end %>

  <div class="mt-3">
    <%= form.submit "Guardar cambios", class: "btn btn-success" %>
    <%= link_to "Cancelar", show_controller_path(@locker.controller), class: "btn btn-secondary" %>
  </div>
<% end %>